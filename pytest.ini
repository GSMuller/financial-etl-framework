[pytest]
# Configuração pytest para o diretório raiz GITHUB
# Direciona pytest para rodar apenas os testes funcionais

# Diretórios de teste - apenas o financial-etl-framework
testpaths = financial-etl-framework/tests

# Ignorar testes com problemas de assinatura
python_files = 
    test_api.py
    test_audit_logger.py
    test_conn.py
    test_config.py
    test_rollback.py

# Padrões de classe e função de teste
python_classes = Test*
python_functions = test_*

# Opções de saída
addopts = 
    -v
    --tb=short
    --ignore=financial-etl-framework/tests/test_divergence_processor.py
    --ignore=financial-etl-framework/tests/test_notification_service.py

# Markers
markers =
    slow: testes lentos
    integration: testes de integração
    unit: testes unitários
    api: testes de API

# Asyncio
asyncio_mode = strict
asyncio_default_fixture_loop_scope = function

# Desabilitar warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::pytest.PytestDeprecationWarning
